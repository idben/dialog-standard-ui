<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dialog Standard UI - å®Œæ•´ç¤ºç¯„</title>

  <!-- Shoelace CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@shoelace-style/shoelace@2.15.1/cdn/themes/light.css" />

  <!-- Shoelace JS -->
  <script type="module" src="https://cdn.jsdelivr.net/npm/@shoelace-style/shoelace@2.15.1/cdn/shoelace-autoloader.js"></script>

  <link rel="stylesheet" href="dialog.css">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
      background: #f8fafc;  /* Shoelace é¢¨æ ¼ï¼šæ·ºç°ç™½åº•è‰² */
      min-height: 100vh;
      padding: 40px 20px;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
      background: white;
      border-radius: 8px;   /* æ”¹ç‚ºå°åœ“è§’ */
      padding: 40px;
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);  /* Shoelace é¢¨æ ¼ï¼šæ·ºé™°å½± */
      border: 1px solid #e2e8f0;  /* åŠ ä¸Šæ·ºé‚Šæ¡† */
    }

    h1 {
      color: #1f2937;
      font-size: 32px;
      margin-bottom: 16px;
      text-align: center;
    }

    .subtitle {
      text-align: center;
      color: #6b7280;
      margin-bottom: 40px;
      font-size: 16px;
    }

    .section {
      margin-bottom: 48px;
    }

    .section:last-child {
      margin-bottom: 0;
    }

    h2 {
      color: #374151;
      font-size: 24px;
      margin-bottom: 20px;
      padding-bottom: 12px;
    }

    .demo-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 20px;
      margin-bottom: 24px;
    }

    .demo-item {
      padding: 20px;
      background: #f9fafb;
      border-radius: 12px;
      border: 1px solid #e5e7eb;
    }

    .demo-item h3 {
      color: #1f2937;
      font-size: 16px;
      margin-bottom: 12px;
    }

    .demo-item p {
      color: #6b7280;
      font-size: 14px;
      margin-bottom: 16px;
      line-height: 1.6;
    }

    /* Shoelace æŒ‰éˆ•æ¨£å¼ */
    .demo-btn {
      width: 100%;
    }

    sl-button::part(base) {
      width: 100%;
    }

    .code-block {
      background: #1f2937;
      color: #f9fafb;
      padding: 20px;
      border-radius: 8px;
      overflow-x: auto;
      font-family: 'Monaco', 'Courier New', monospace;
      font-size: 13px;
      line-height: 1.6;
      margin-top: 16px;
    }

    .code-block code {
      color: #a5b4fc;
    }

    /* Shoelace alert æ¨£å¼èª¿æ•´ */
    sl-alert {
      margin-top: 24px;
    }

    sl-alert ul {
      list-style-position: inside;
    }

    sl-alert li {
      margin-bottom: 8px;
    }

    @media (max-width: 768px) {
      .container {
        padding: 24px;
      }

      h1 {
        font-size: 24px;
      }

      h2 {
        font-size: 20px;
      }

      .demo-grid {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Dialog Standard UI å®Œæ•´ç¤ºç¯„</h1>
    <p class="subtitle">ä½¿ç”¨åŸç”Ÿ &lt;dialog&gt; å…ƒç´ å–ä»£å‚³çµ± alert / confirm / prompt</p>

    <!-- è¨Šæ¯å°è©±æ¡†ç¯„ä¾‹ -->
    <section class="section">
      <h2>1. è¨Šæ¯å°è©±æ¡†ï¼ˆå–ä»£ alertï¼‰</h2>

      <div class="demo-grid">
        <div class="demo-item">
          <h3>æˆåŠŸè¨Šæ¯</h3>
          <p>é¡¯ç¤ºæ“ä½œæˆåŠŸçš„æç¤ºè¨Šæ¯</p>
          <sl-button variant="primary" class="demo-btn" onclick="demoAlertSuccess()">é¡¯ç¤ºæˆåŠŸè¨Šæ¯</sl-button>
        </div>

        <div class="demo-item">
          <h3>éŒ¯èª¤è¨Šæ¯</h3>
          <p>é¡¯ç¤ºéŒ¯èª¤æˆ–è­¦å‘Šè¨Šæ¯</p>
          <sl-button variant="primary" class="demo-btn" onclick="demoAlertError()">é¡¯ç¤ºéŒ¯èª¤è¨Šæ¯</sl-button>
        </div>

        <div class="demo-item">
          <h3>ä¸€èˆ¬é€šçŸ¥</h3>
          <p>é¡¯ç¤ºä¸€èˆ¬è³‡è¨Šé€šçŸ¥</p>
          <sl-button variant="primary" class="demo-btn" onclick="demoAlertInfo()">é¡¯ç¤ºé€šçŸ¥</sl-button>
        </div>
      </div>

      <div class="code-block">
<code>// æˆåŠŸè¨Šæ¯
await dialog.alert('è³‡æ–™å·²æˆåŠŸå„²å­˜ï¼', 'æˆåŠŸ');

// éŒ¯èª¤è¨Šæ¯
await dialog.alert('ç„¡æ³•é€£ç·šåˆ°ä¼ºæœå™¨ï¼Œè«‹ç¨å¾Œå†è©¦ã€‚', 'éŒ¯èª¤');

// ä¸€èˆ¬é€šçŸ¥
await dialog.alert('ç³»çµ±å°‡æ–¼ 5 åˆ†é˜å¾Œé€²è¡Œç¶­è­·ã€‚', 'é€šçŸ¥');</code>
      </div>
    </section>

    <!-- ç¢ºèªå°è©±æ¡†ç¯„ä¾‹ -->
    <section class="section">
      <h2>2. ç¢ºèªå°è©±æ¡†ï¼ˆå–ä»£ confirmï¼‰</h2>

      <div class="demo-grid">
        <div class="demo-item">
          <h3>åˆªé™¤ç¢ºèª</h3>
          <p>åŸ·è¡Œåˆªé™¤æ“ä½œå‰çš„ç¢ºèª</p>
          <sl-button variant="primary" class="demo-btn" onclick="demoConfirmDelete()">åˆªé™¤é …ç›®</sl-button>
        </div>

        <div class="demo-item">
          <h3>é›¢é–‹ç¢ºèª</h3>
          <p>é›¢é–‹é é¢å‰çš„ç¢ºèªæç¤º</p>
          <sl-button variant="primary" class="demo-btn" onclick="demoConfirmLeave()">é›¢é–‹é é¢</sl-button>
        </div>

        <div class="demo-item">
          <h3>è‡ªå®šç¾©æŒ‰éˆ•æ–‡å­—</h3>
          <p>è‡ªè¨‚ç¢ºèªå’Œå–æ¶ˆæŒ‰éˆ•çš„æ–‡å­—</p>
          <sl-button variant="primary" class="demo-btn" onclick="demoConfirmCustom()">é€å‡ºè¡¨å–®</sl-button>
        </div>
      </div>

      <div class="code-block">
<code>// åˆªé™¤ç¢ºèª
const confirmed = await dialog.confirm(
  'ç¢ºå®šè¦åˆªé™¤é€™å€‹é …ç›®å—ï¼Ÿæ­¤æ“ä½œç„¡æ³•å¾©åŸã€‚',
  'åˆªé™¤ç¢ºèª'
);
if (confirmed) {
  // åŸ·è¡Œåˆªé™¤
}

// è‡ªå®šç¾©æŒ‰éˆ•æ–‡å­—
const result = await dialog.confirm(
  'ç¢ºå®šè¦é€å‡ºè¡¨å–®å—ï¼Ÿ',
  'ç¢ºèªé€å‡º',
  { confirmText: 'é€å‡º', cancelText: 'å†æª¢æŸ¥ä¸€æ¬¡' }
);</code>
      </div>
    </section>

    <!-- è¼¸å…¥å°è©±æ¡†ç¯„ä¾‹ -->
    <section class="section">
      <h2>3. è¼¸å…¥å°è©±æ¡†ï¼ˆå–ä»£ promptï¼‰</h2>

      <div class="demo-grid">
        <div class="demo-item">
          <h3>ç°¡å–®è¼¸å…¥</h3>
          <p>è¦æ±‚ä½¿ç”¨è€…è¼¸å…¥æ–‡å­—</p>
          <sl-button variant="primary" class="demo-btn" onclick="demoPromptSimple()">è¼¸å…¥åç¨±</sl-button>
        </div>

        <div class="demo-item">
          <h3>é è¨­å€¼è¼¸å…¥</h3>
          <p>æä¾›é è¨­å€¼çš„è¼¸å…¥æ¡†</p>
          <sl-button variant="primary" class="demo-btn" onclick="demoPromptDefault()">ç·¨è¼¯æ¨™é¡Œ</sl-button>
        </div>

        <div class="demo-item">
          <h3>é©—è­‰è¼¸å…¥</h3>
          <p>åŒ…å«è¼¸å…¥é©—è­‰çš„å°è©±æ¡†</p>
          <sl-button variant="primary" class="demo-btn" onclick="demoPromptValidate()">è¼¸å…¥ Email</sl-button>
        </div>
      </div>

      <div class="code-block">
<code>// ç°¡å–®è¼¸å…¥
const name = await dialog.prompt('è«‹è¼¸å…¥æ‚¨çš„åç¨±ï¼š', 'ç‹å°æ˜', 'è¼¸å…¥åç¨±');
if (name) {
  console.log('åç¨±ï¼š', name);
}

// å¸¶é©—è­‰çš„è¼¸å…¥
const email = await dialog.prompt(
  'è«‹è¼¸å…¥æ‚¨çš„é›»å­éƒµä»¶åœ°å€ï¼š',
  '',
  'è¼¸å…¥ Email',
  {
    validate: (value) => {
      if (!value) return 'è«‹è¼¸å…¥ Email åœ°å€';
      if (!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(value)) {
        return 'Email æ ¼å¼ä¸æ­£ç¢º';
      }
      return true;
    }
  }
);</code>
      </div>
    </section>

    <!-- è‡ªå®šç¾©å°è©±æ¡†ç¯„ä¾‹ -->
    <section class="section">
      <h2>4. è‡ªå®šç¾©å°è©±æ¡†</h2>

      <div class="demo-grid">
        <div class="demo-item">
          <h3>å¤šæŒ‰éˆ•é¸æ“‡</h3>
          <p>æä¾›å¤šå€‹æ“ä½œé¸é …</p>
          <sl-button variant="primary" class="demo-btn" onclick="demoCustomMultiButton()">æª”æ¡ˆæ“ä½œ</sl-button>
        </div>

        <div class="demo-item">
          <h3>HTML å…§å®¹</h3>
          <p>é¡¯ç¤ºè¤‡é›œçš„ HTML å…§å®¹</p>
          <sl-button variant="primary" class="demo-btn" onclick="demoCustomHtml()">æª¢è¦–è©³æƒ…</sl-button>
        </div>

        <div class="demo-item">
          <h3>æ¸…å–®é¸é …</h3>
          <p>é¡¯ç¤ºé¸é …æ¸…å–®ä¾›ä½¿ç”¨è€…é¸æ“‡</p>
          <sl-button variant="primary" class="demo-btn" onclick="demoCustomList()">é¸æ“‡èªè¨€</sl-button>
        </div>
      </div>

      <div class="code-block">
<code>// å¤šæŒ‰éˆ•é¸æ“‡
const result = await dialog.custom({
  title: 'æª”æ¡ˆæ“ä½œ',
  content: 'è«‹é¸æ“‡è¦åŸ·è¡Œçš„æ“ä½œï¼š',
  buttons: [
    { text: 'ä¸‹è¼‰', primary: false },
    { text: 'åˆ†äº«', primary: false },
    { text: 'åˆªé™¤', primary: true }
  ]
});
console.log('é¸æ“‡çš„æŒ‰éˆ•ç´¢å¼•ï¼š', result.buttonIndex);

// HTML å…§å®¹
await dialog.custom({
  title: 'å•†å“è©³æƒ…',
  content: `
    &lt;div style="text-align: center;"&gt;
      &lt;h3&gt;æ¥µç°¡èƒŒåŒ…&lt;/h3&gt;
      &lt;p&gt;å”®åƒ¹ï¼šNT$ 1,299&lt;/p&gt;
    &lt;/div&gt;
  `,
  buttons: [{ text: 'é—œé–‰', primary: true }]
});</code>
      </div>
    </section>

    <!-- éµç›¤æ“ä½œèªªæ˜ -->
    <section class="section">
      <sl-alert variant="warning" open>
        <sl-icon slot="icon" name="keyboard"></sl-icon>
        <strong>âŒ¨ï¸ éµç›¤æ“ä½œ</strong>
        <ul style="margin: 8px 0 0 20px;">
          <li><strong>Tab</strong>ï¼šåœ¨å°è©±æ¡†å…§çš„å…ƒç´ é–“åˆ‡æ›ç„¦é»</li>
          <li><strong>Enter</strong>ï¼šç¢ºèªæ“ä½œï¼ˆèšç„¦æ–¼æŒ‰éˆ•æ™‚ï¼‰æˆ–é€å‡ºè¼¸å…¥ï¼ˆè¼¸å…¥æ¡†ï¼‰</li>
          <li><strong>Escape</strong>ï¼šé—œé–‰å°è©±æ¡†ï¼ˆconfirm/prompt æœƒè¿”å› false/nullï¼‰</li>
          <li><strong>Space</strong>ï¼šæŒ‰ä¸‹èšç„¦çš„æŒ‰éˆ•</li>
        </ul>
      </sl-alert>
    </section>

    <!-- ç„¡éšœç¤™åŠŸèƒ½èªªæ˜ -->
    <section class="section">
      <sl-alert variant="primary" open>
        <sl-icon slot="icon" name="info-circle"></sl-icon>
        <strong>â™¿ ç„¡éšœç¤™åŠŸèƒ½</strong>
        <ul style="margin: 8px 0 0 20px;">
          <li><strong>ARIA æ¨™ç±¤</strong>ï¼šæ‰€æœ‰å°è©±æ¡†åŒ…å«é©ç•¶çš„ role å’Œ aria-modal å±¬æ€§</li>
          <li><strong>ç„¦é»ç®¡ç†</strong>ï¼šé–‹å•Ÿæ™‚è‡ªå‹•èšç„¦ï¼Œé—œé–‰å¾Œè¿”å›è§¸ç™¼å…ƒç´ </li>
          <li><strong>ç„¦é»é–å®š</strong>ï¼šç„¦é»è¢«é™åˆ¶åœ¨å°è©±æ¡†å…§ï¼Œç„¡æ³• Tab åˆ°å¤–éƒ¨å…ƒç´ </li>
          <li><strong>èªæ„åŒ–æ¨™è¨˜</strong>ï¼šä½¿ç”¨æ­£ç¢ºçš„ HTML å…ƒç´ ï¼ˆh2, button ç­‰ï¼‰</li>
          <li><strong>éµç›¤å®Œå…¨å¯æ“ä½œ</strong>ï¼šæ‰€æœ‰åŠŸèƒ½éƒ½å¯é€ééµç›¤å®Œæˆ</li>
          <li><strong>æ·±è‰²æ¨¡å¼æ”¯æ´</strong>ï¼šè‡ªå‹•é©æ‡‰ç³»çµ±æ·±è‰²æ¨¡å¼è¨­å®š</li>
          <li><strong>å‹•ç•«åå¥½</strong>ï¼šå°Šé‡ prefers-reduced-motion è¨­å®š</li>
        </ul>
      </sl-alert>
    </section>
  </div>

  <script src="dialog.js"></script>
  <script>
    // ==================== è¨Šæ¯å°è©±æ¡†ç¯„ä¾‹ ====================

    async function demoAlertSuccess() {
      await dialog.alert('è³‡æ–™å·²æˆåŠŸå„²å­˜ï¼', 'æˆåŠŸ');
    }

    async function demoAlertError() {
      await dialog.alert('ç„¡æ³•é€£ç·šåˆ°ä¼ºæœå™¨ï¼Œè«‹ç¨å¾Œå†è©¦ã€‚', 'éŒ¯èª¤');
    }

    async function demoAlertInfo() {
      await dialog.alert('ç³»çµ±å°‡æ–¼ 5 åˆ†é˜å¾Œé€²è¡Œç¶­è­·ã€‚', 'é€šçŸ¥');
    }

    // ==================== ç¢ºèªå°è©±æ¡†ç¯„ä¾‹ ====================

    async function demoConfirmDelete() {
      const confirmed = await dialog.confirm(
        'ç¢ºå®šè¦åˆªé™¤é€™å€‹é …ç›®å—ï¼Ÿæ­¤æ“ä½œç„¡æ³•å¾©åŸã€‚',
        'åˆªé™¤ç¢ºèª'
      );

      if (confirmed) {
        await dialog.alert('é …ç›®å·²åˆªé™¤ã€‚', 'å®Œæˆ');
      } else {
        await dialog.alert('å·²å–æ¶ˆåˆªé™¤ã€‚', 'å–æ¶ˆ');
      }
    }

    async function demoConfirmLeave() {
      const confirmed = await dialog.confirm(
        'ç¢ºå®šè¦é›¢é–‹å—ï¼Ÿæ‚¨çš„è®Šæ›´å°‡ä¸æœƒè¢«å„²å­˜ã€‚',
        'ç¢ºèªé›¢é–‹'
      );

      if (confirmed) {
        await dialog.alert('æ‚¨å·²ç¢ºèªé›¢é–‹ã€‚', 'å·²é›¢é–‹');
      }
    }

    async function demoConfirmCustom() {
      const confirmed = await dialog.confirm(
        'ç¢ºå®šè¦é€å‡ºè¡¨å–®å—ï¼Ÿé€å‡ºå¾Œå°‡ç„¡æ³•ä¿®æ”¹ã€‚',
        'ç¢ºèªé€å‡º',
        { confirmText: 'é€å‡º', cancelText: 'å†æª¢æŸ¥ä¸€æ¬¡' }
      );

      if (confirmed) {
        await dialog.alert('è¡¨å–®å·²é€å‡ºï¼', 'æˆåŠŸ');
      }
    }

    // ==================== è¼¸å…¥å°è©±æ¡†ç¯„ä¾‹ ====================

    async function demoPromptSimple() {
      const name = await dialog.prompt('è«‹è¼¸å…¥æ‚¨çš„åç¨±ï¼š', 'ç‹å°æ˜', 'è¼¸å…¥åç¨±');

      if (name !== null) {
        await dialog.alert(`æ‚¨å¥½ï¼Œ${name}ï¼`, 'æ­¡è¿');
      }
    }

    async function demoPromptDefault() {
      const title = await dialog.prompt(
        'è«‹ç·¨è¼¯æ¨™é¡Œï¼š',
        '',
        'ç·¨è¼¯æ¨™é¡Œ',
        { defaultValue: 'æˆ‘çš„å°ˆæ¡ˆ' }
      );

      if (title !== null) {
        await dialog.alert(`æ¨™é¡Œå·²æ›´æ–°ç‚ºï¼š${title}`, 'å®Œæˆ');
      }
    }

    async function demoPromptValidate() {
      const email = await dialog.prompt(
        'è«‹è¼¸å…¥æ‚¨çš„é›»å­éƒµä»¶åœ°å€ï¼š',
        'example@email.com',
        'è¼¸å…¥ Email',
        {
          validate: (value) => {
            if (!value) return 'è«‹è¼¸å…¥ Email åœ°å€';
            if (!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(value)) {
              return 'Email æ ¼å¼ä¸æ­£ç¢º';
            }
            return true;
          }
        }
      );

      if (email !== null) {
        await dialog.alert(`å·²è¨˜éŒ„ Emailï¼š${email}`, 'æˆåŠŸ');
      }
    }

    // ==================== è‡ªå®šç¾©å°è©±æ¡†ç¯„ä¾‹ ====================

    async function demoCustomMultiButton() {
      const result = await dialog.custom({
        title: 'æª”æ¡ˆæ“ä½œ',
        content: '<p style="margin: 0;">è«‹é¸æ“‡è¦åŸ·è¡Œçš„æ“ä½œï¼š</p>',
        buttons: [
          { text: 'å–æ¶ˆ', primary: false },
          { text: 'ä¸‹è¼‰', primary: false },
          { text: 'åˆ†äº«', primary: false },
          { text: 'åˆªé™¤', primary: true }
        ]
      });

      const actions = ['å–æ¶ˆ', 'ä¸‹è¼‰', 'åˆ†äº«', 'åˆªé™¤'];
      await dialog.alert(`æ‚¨é¸æ“‡äº†ï¼š${actions[result.buttonIndex]}`, 'æ“ä½œçµæœ');
    }

    async function demoCustomHtml() {
      await dialog.custom({
        title: 'å•†å“è©³æƒ…',
        content: `
          <div style="text-align: center; padding: 20px 0;">
            <div style="width: 120px; height: 120px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); margin: 0 auto 16px; border-radius: 12px;"></div>
            <h3 style="margin: 0 0 8px; color: #1f2937;">æ¥µç°¡èƒŒåŒ…</h3>
            <p style="margin: 0 0 4px; color: #6b7280; font-size: 24px; font-weight: 600;">NT$ 1,299</p>
            <p style="margin: 0; color: #9ca3af; font-size: 14px;">åº«å­˜ï¼š23 ä»¶</p>
          </div>
        `,
        buttons: [{ text: 'é—œé–‰', primary: true }]
      });
    }

    async function demoCustomList() {
      const result = await dialog.custom({
        title: 'é¸æ“‡èªè¨€',
        content: `
          <div style="display: grid; gap: 8px;">
            <sl-button variant="primary" class="demo-btn" style="text-align: left;" onclick="selectLanguage(0)">ğŸ‡¹ğŸ‡¼ æ­£é«”ä¸­æ–‡</sl-button>
            <sl-button variant="primary" class="demo-btn" style="text-align: left;" onclick="selectLanguage(1)">ğŸ‡ºğŸ‡¸ English</sl-button>
            <sl-button variant="primary" class="demo-btn" style="text-align: left;" onclick="selectLanguage(2)">ğŸ‡¯ğŸ‡µ æ—¥æœ¬èª</sl-button>
            <sl-button variant="primary" class="demo-btn" style="text-align: left;" onclick="selectLanguage(3)">ğŸ‡°ğŸ‡· í•œêµ­ì–´</sl-button>
          </div>
        `,
        buttons: [{ text: 'å–æ¶ˆ', primary: false }]
      });
    }

    window.selectLanguage = async function(index) {
      const languages = ['æ­£é«”ä¸­æ–‡', 'English', 'æ—¥æœ¬èª', 'í•œêµ­ì–´'];
      // é—œé–‰ç•¶å‰å°è©±æ¡†
      document.querySelector('.std-dialog[open]')?.close();
      await dialog.alert(`å·²é¸æ“‡ï¼š${languages[index]}`, 'èªè¨€è¨­å®š');
    };
  </script>
</body>
</html>
